<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Question about REHAN</title>
<style>
  body {
    font-family: Arial, sans-serif;
    padding: 40px;
    background-color: #f9f9f9;
    text-align: center;
  }
  h1 {
    margin-bottom: 30px;
  }
  input, button {
    font-size: 18px;
    padding: 10px 15px;
    margin: 10px auto;
    display: block;
    width: 250px;
    max-width: 80%;
  }
  #finalMessage {
    margin-top: 40px;
    font-weight: bold;
    color: #555;
    font-size: 20px;
  }
</style>
</head>
<body>

<div id="namePage">
  <h1>What’s your name?</h1>
  <input type="text" id="userName" placeholder="Enter your name here" />
  <button onclick="submitName()">Submit</button>
  <p id="nameError" style="color: red;"></p>
</div>

<div id="questionPage" style="display:none;">
  <h1>What do you don’t like about REHAN?</h1>
  <button onclick="recordResponse('Ego')">Ego</button>
  <button onclick="recordResponse('[translate:arrogant]')">arrogant</button>
  <button onclick="recordResponse('ignorant')">ignorant</button>
  <button onclick="recordResponse('he himself')">he himself</button>
  <p id="finalMessage"></p>
</div>

<script>
  function submitName() {
    const nameInput = document.getElementById('userName').value.trim();
    const nameError = document.getElementById('nameError');
    if (nameInput.length === 0) {
      nameError.textContent = "Please enter your name before proceeding.";
      return;
    }
    nameError.textContent = "";
    localStorage.setItem('userName', nameInput);
    document.getElementById('namePage').style.display = 'none';
    document.getElementById('questionPage').style.display = 'block';
  }

  function recordResponse(response) {
    const userName = localStorage.getItem('userName') || "Unknown";
    // Retrieve previous responses or start a new array
    let responses = JSON.parse(localStorage.getItem('responses') || '[]');
    responses.push({name: userName, answer: response, timestamp: new Date().toISOString()});
    localStorage.setItem('responses', JSON.stringify(responses));

    document.getElementById('finalMessage').textContent = "kabhi shakal dekhi apni ayinemey";
  }

  // Optional: show question page automatically if name already stored
  window.onload = () => {
    const savedName = localStorage.getItem('userName');
    if (savedName) {
      document.getElementById('namePage').style.display = 'none';
      document.getElementById('questionPage').style.display = 'block';
    }
  };
</script>

</body>
</html>